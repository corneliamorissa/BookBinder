{% extends 'base.html.twig' %}
{% block content %}
    <div class="container py-5">
        <div class="row">
            <div class="col-lg-3">
                <div class="card rounded-2 mb-4">
                    <div class="card-body">
                        <h3 id="trending_home" class="card-title text-white text-center rounded-3 p-3 mb-3" style="background: #866ff7;">
                            Trending This Week
                        </h3>
                        {% for book in books %}
                            <div id="trendingBook" class="text-center" onclick="location.href='{{ path('Book', {'BookId': book.id}) }}';" style="cursor: pointer;">
                                <img id="BookPic" class="rounded-3 w-50 book-image" data-isbn="{{ book.isbn }}" src="{{ asset('/public/assets/no_cover.jpg') }}" alt="BookCover">
                                <h5 id="booktitle">{{ book.title }}</h5>
                                <h6 id="bookauthor">{{ book.author }}</h6>
                                <p id="bookgenres">Book followers: {{ book.number_of_followers }}</p>
                            </div>
                            <hr>
                        {% endfor %}
                    </div>
                </div>
            </div>

            <div class="col-lg-8 ms-2">
                <div class="container">
                    <div class="welcome">
                        <h1>Welcome to BookBinder!</h1>
                        <p>
                            Discover trending books, recommend them to others, and connect with like-minded readers on our website. Join a vibrant community of book lovers and engage in meaningful discussions about your favorite reads.
                        </p>
                    </div>
                    <h1 id="nearest" class="text-center mt-lg-4">Your nearest library</h1>
                    <div class="card rounded-2 mb-3">
                        <div class="row g-0">
                            <div class="col-md-4 rounded-2" style="background: #6f42c1">
                                <h3 class="text-center mt-lg-4 bibname">{{ library.name }}</h3>
                            </div>
                            <div class="col-md-8">
                                <div class="card-body">
                                    <p>{{ library.name }} Address : </p>
                                    <p>{{ library.street }} {{ library.housenumber }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <h2 style="color: #311E69; padding-top: 20px; padding-bottom: 10px">Your Favorite Books</h2>
                    <div class="card-group">
                        {% for book in followedBooks %}
                            <div class="card rounded-1 mb-sm-3">
                                <div class="text-center" onclick="location.href='{{ path('Book', {'BookId': book.id}) }}';" style="cursor: pointer;">
                                    <img id="BookPic" class="rounded-3 w-50 book-image pt-1" data-isbn="{{ book.isbn }}" src="{{ asset('/public/assets/no_cover.jpg') }}" alt="BookCover">
                                    <h5 class="pt-1" id="booktitle">{{ book.title }}</h5>
                                    <p class="text-muted pt-2" id="bookauthor">{{ book.author }}</p>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}